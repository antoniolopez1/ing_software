###################TRIGGER FUNCTION########################
CREATE OR REPLACE FUNCTION accumulated_hour()
  RETURNS trigger AS
$BODY$
begin

UPDATE salaries SET total_hours = total_hours + new.total_hours, total_extra_hours = total_extra_hours + new.extra_hours, accumulated=(charge_for_hours*(total_hours + new.total_hours))+((total_extra_hours+new.extra_hours)*20000)
WHERE employee_id=new.employee_id;
return new;
end
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION public.accumulated_hours()
  OWNER TO postgres;
###################TRIGGER#############
CREATE TRIGGER ai_hour
  AFTER INSERT
  ON public.hours_histories
  FOR EACH ROW
  EXECUTE PROCEDURE public.accumulated_hour();